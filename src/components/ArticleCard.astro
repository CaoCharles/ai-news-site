---
import { Image } from 'astro:assets';

const { post, class: className, horizontal = false } = Astro.props;
const { slug, data } = post;
---

<article class={`group cursor-pointer ${className}`}>
  <a href={`${import.meta.env.BASE_URL}/posts/${slug}`} class={`block ${horizontal ? 'md:flex md:gap-6' : ''}`}>
    <div class={`overflow-hidden relative ${horizontal ? 'md:w-1/3' : 'w-full aspect-[4/3] mb-4'}`}>
      <img 
        src={data.heroImage || "/images/placeholders/default.jpg"} 
        alt={data.title} 
        class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"
      />
    </div>
    <div class={`${horizontal ? 'md:w-2/3' : ''}`}>
      <div class="flex items-center gap-2 text-xs font-bold uppercase tracking-wider mb-2 text-news-accent">
        <span>{data.category}</span>
        {data.source && <span class="text-gray-400">â€¢ {data.source}</span>}
      </div>
      <h3 class="text-xl font-bold leading-tight mb-2 group-hover:text-news-accent transition-colors font-serif">
        {data.title}
      </h3>
      <p class="text-gray-600 text-sm line-clamp-2 mb-2 font-sans">
        {data.summary}
      </p>
      <time class="text-xs text-gray-400 font-sans">{new Date(data.date).toLocaleDateString()}</time>
    </div>
  </a>
</article>

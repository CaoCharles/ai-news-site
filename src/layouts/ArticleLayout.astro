---
import BaseLayout from './BaseLayout.astro';

const { frontmatter } = Astro.props;
---

<BaseLayout title={frontmatter.title}>
  <article class="max-w-[760px] mx-auto bg-white px-6 py-16 md:px-0 shadow-sm">
    <header class="mb-12 text-center">
      <div class="flex justify-center gap-3 text-sm font-bold uppercase tracking-widest text-news-accent mb-6">
        <span class="text-gray-500">{frontmatter.category}</span>
        <span class="text-gray-300">•</span>
        <span>{frontmatter.source || 'AI News'}</span>
      </div>
      <h1 class="text-4xl md:text-5xl font-black font-sans mb-6 leading-tight tracking-tight text-gray-900">{frontmatter.title}</h1>
      <div class="flex justify-center items-center gap-4 text-gray-500 text-sm font-sans tracking-wide">
        <time>{new Date(frontmatter.date).toLocaleDateString()}</time>
        <span class="text-gray-300">•</span>
        <span>{frontmatter.readingTime}</span>
      </div>
    </header>

    {frontmatter.image && (
      <div class="mb-12 -mx-6 md:-mx-0">
        <img src={`${import.meta.env.BASE_URL}images/${(frontmatter.image || 'placeholder.jpg').replace(/^\//, '')}`} alt={frontmatter.title} class="w-full h-auto rounded-sm" />
      </div>
    )}

    <div class="prose prose-lg prose-slate mx-auto font-sans prose-p:leading-relaxed prose-headings:font-bold prose-a:text-news-accent hover:prose-a:text-black transition-colors">
      <slot />
    </div>

    <hr class="my-16 border-gray-100" />

    {frontmatter.tags && frontmatter.tags.length > 0 && (
      <div class="bg-gray-50 p-8 rounded-lg">
        <h3 class="font-bold mb-4 text-gray-900">Tags</h3>
        <div class="flex flex-wrap gap-3">
          {frontmatter.tags.map((tag: string) => (
            <span class="bg-white border border-gray-200 px-4 py-1.5 text-sm font-bold uppercase tracking-wider text-gray-600 hover:border-gray-400 transition-colors cursor-default">
              #{tag}
            </span>
          ))}
        </div>
      </div>
    )}
  </article>
</BaseLayout>
